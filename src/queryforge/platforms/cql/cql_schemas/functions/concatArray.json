{
  "name": "concatArray",
  "category": "array",
  "description": "Concatenates the values of all fields with the same name and an array suffix into a value in a new field. Such array fields typically come as output from either parseJson() or splitString(). All array fields starting from index 'from' and ending with index 'to' are selected.",
  "syntax": "concatArray(field, as=output_field, separator=sep, from=start_index, to=end_index)",
  "parameters": [
    {
      "name": "field",
      "type": "string",
      "required": true,
      "description": "Base name of the array fields (without index suffix)"
    },
    {
      "name": "as",
      "type": "string",
      "required": true,
      "description": "Name of the output field"
    },
    {
      "name": "separator",
      "type": "string",
      "required": false,
      "description": "Separator to use between concatenated values"
    },
    {
      "name": "from",
      "type": "number",
      "required": false,
      "description": "Starting index (default: 0)"
    },
    {
      "name": "to",
      "type": "number",
      "required": false,
      "description": "Ending index (default: last available index)"
    }
  ],
  "return_type": "enriched_events",
  "examples": [
    "#event_simpleName=DnsRequest\n| splitString(IP4Records, by=\";\", as=IP4RecordsSplit)\n| concatArray(IP4RecordsSplit, as=IP4RecordsMV, separator=\"\\n\")\n| groupBy([DomainName], function=([collect([IP4RecordsMV]), count(IP4RecordsMV, distinct=true)]))\n| test(_count>0)"
  ],
  "related_functions": ["splitString", "parseJson", "concat"],
  "use_cases": ["Array to string conversion", "Multi-value field handling", "JSON array processing"],
  "notes": "If an index is missing, concatenation stops with the previous index. If the first index is missing, no field is added.",
  "documentation_url": "https://library.humio.com/data-analysis/functions-concatarray.html"
}
